(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ad3d1de"],{"21a6":function(e,t,a){(function(a){var s,i,o;(function(a,n){i=[],s=n,o="function"===typeof s?s.apply(t,i):s,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){r(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,r=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var r=n.URL||n.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?s(e,t,a):o(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,n){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,n),a);else if(i(e))s(e,a,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){o(r)}))}}:function(e,t,a,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var o="application/octet-stream"===e.type,r=/constructor/i.test(n.HTMLElement)||n.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&r)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var d=n.URL||n.webkitURL,m=d.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});n.saveAs=r.saveAs=r,e.exports=r}))}).call(this,a("c8ba"))},f288:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"content"},[a("div",{staticClass:"dropdown-menu dropdown-menu-sm",attrs:{id:"context-menu3",onmouseleave:"this.style.display='none'"}},[e._m(0),a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#yenicihazModal",id:"yenicihaz"},on:{click:e.addproceessbegin}},[a("i",{staticClass:"fas fa-cog"}),e._v(" Yeni İşlem\n      ")]),e._m(1),e._m(2)]),a("div",{staticClass:"dropdown-menu dropdown-menu-sm",attrs:{id:"context-menu",onmouseleave:"this.style.display='none'"}},[a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#yenicihazModal"},on:{click:e.edittreenode}},[a("i",{staticClass:"fas fa-pencil-alt"}),e._v(" Düzenle\n      ")]),e._m(3)]),a("div",{staticClass:"container-fluid p-0"},[e._m(4),a("br"),a("h1",{staticClass:"h3 mb-3"},[e._v("Bom Ağacı")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"projectname"}},[e._v("Proje Kodunu Seçiniz")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.project,expression:"project"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.project=t.target.multiple?a:a[0]},e.gettree]}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[e._v("Proje kodunu seçiniz")]),e._l(e.projects,(function(t){return a("option",{key:t.Id,domProps:{value:t.StokCode}},[e._v(e._s(t.Name))])}))],2)])])]),e.loadmi?a("div",{staticClass:"mb-3 center"},[a("button",{staticClass:"btn btn-primary",on:{click:e.exportTable}},[e._v("Ağacı Exel olarak dışa aktar")])]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{attrs:{hidden:"",id:"spinner"}}),a("tree-view",{directives:[{name:"show",rawName:"v-show",value:e.iftree,expression:"iftree"}],attrs:{tree:e.tree},on:{click:e.deneme,spanclickevent:e.deneme,contextmenu:e.contextmenu,divclickevent:e.divclickevent,ondrop:e.ondrop}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.ifserinumber,expression:"ifserinumber"}],staticClass:"col-md-6",attrs:{id:"seriolan"}},[a("label",[e._v(e._s(e.Usttanim))]),a("form",{attrs:{id:"loginform"}},[e.serimi?[a("div",{staticClass:"form-group"},[a("label",[e._v("Seri Numarası")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.seritext,expression:"seritext"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Seri Numarasını Giriniz",required:""},domProps:{value:e.seritext},on:{input:function(t){t.target.composing||(e.seritext=t.target.value)}}})]),e.ipmi?a("div",{staticClass:"form-group"},[a("label",[e._v("İp Adresi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ipaddress,expression:"ipaddress"}],staticClass:"form-control",attrs:{type:"text",placeholder:"İp Adresini Giriniz",required:""},domProps:{value:e.ipaddress},on:{input:function(t){t.target.composing||(e.ipaddress=t.target.value)}}})]):e._e()]:a("div",{staticClass:"custom-control custom-checkbox form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.altyapicheck,expression:"altyapicheck"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customControlAutosizing"},domProps:{checked:Array.isArray(e.altyapicheck)?e._i(e.altyapicheck,null)>-1:e.altyapicheck},on:{change:function(t){var a=e.altyapicheck,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.altyapicheck=a.concat([o])):n>-1&&(e.altyapicheck=a.slice(0,n).concat(a.slice(n+1)))}else e.altyapicheck=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customControlAutosizing"}},[e._v("İşlem Tamamlandı mı?")])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"custom-file"},[a("input",{ref:"myFiles",staticClass:"custom-file-input",attrs:{type:"file",id:"validatedCustomFile",required:""},on:{change:e.previewFiles}}),a("label",{staticClass:"custom-file-label",attrs:{for:"validatedCustomFile"}},[e._v(e._s(e.value))])]),a("hr"),a("div",{staticClass:"form-group mb-0 text-center"},[a("button",{staticClass:"btn btn-primary mr-4",attrs:{type:"submit"},on:{click:e.kaydet}},[e._v("Kaydet")]),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit"},on:{click:function(t){e.ifserinumber=!1}}},[e._v("İptal")])])])],2)])])])])])])]),e._m(5),a("div",{staticClass:"modal fade",attrs:{id:"yeninoktaModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(6),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"recipient-name"}},[e._v("Ağaç Stok:")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newtreestok,expression:"newtreestok"}],staticClass:"form-control",attrs:{type:"Text",required:""},domProps:{value:e.newtreestok},on:{input:function(t){t.target.composing||(e.newtreestok=t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"recipient-name"}},[e._v("Ağaç Adı:")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newtreestokname,expression:"newtreestokname"}],staticClass:"form-control",attrs:{type:"Text",required:""},domProps:{value:e.newtreestokname},on:{input:function(t){t.target.composing||(e.newtreestokname=t.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal",id:"addewtreenodecancel"}},[e._v("İptal")]),a("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:e.addtreenode}},[e._v("Kaydet")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"yenicihazModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v(e._s(e.editandnewheader))]),e._m(7)]),a("div",{staticClass:"modal-body"},[a("form",{attrs:{id:"yenicihazform"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"recipient-name"}},[e._v("Stok kodu:")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newtreestok,expression:"newtreestok"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.newtreestok},on:{input:function(t){t.target.composing||(e.newtreestok=t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"recipient-name"}},[e._v("Tanım:")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newtreestokname,expression:"newtreestokname"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.newtreestokname},on:{input:function(t){t.target.composing||(e.newtreestokname=t.target.value)}}})])]),a("div",{staticClass:"custom-control custom-checkbox form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newserinumbercontrol,expression:"newserinumbercontrol"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"newserinumbercontrol"},domProps:{checked:Array.isArray(e.newserinumbercontrol)?e._i(e.newserinumbercontrol,null)>-1:e.newserinumbercontrol},on:{change:function(t){var a=e.newserinumbercontrol,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.newserinumbercontrol=a.concat([o])):n>-1&&(e.newserinumbercontrol=a.slice(0,n).concat(a.slice(n+1)))}else e.newserinumbercontrol=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"newserinumbercontrol"}},[e._v("Seri numarası takibi varmı?")])]),a("div",{staticClass:"custom-control custom-checkbox form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newipcontrol,expression:"newipcontrol"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"newipcontrol"},domProps:{checked:Array.isArray(e.newipcontrol)?e._i(e.newipcontrol,null)>-1:e.newipcontrol},on:{change:function(t){var a=e.newipcontrol,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.newipcontrol=a.concat([o])):n>-1&&(e.newipcontrol=a.slice(0,n).concat(a.slice(n+1)))}else e.newipcontrol=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"newipcontrol"}},[e._v("İp adresi varmı?")])]),a("div",{staticClass:"custom-control custom-checkbox form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newimalatcontrol,expression:"newimalatcontrol"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"newimalatcontrol"},domProps:{checked:Array.isArray(e.newimalatcontrol)?e._i(e.newimalatcontrol,null)>-1:e.newimalatcontrol},on:{change:function(t){var a=e.newimalatcontrol,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.newimalatcontrol=a.concat([o])):n>-1&&(e.newimalatcontrol=a.slice(0,n).concat(a.slice(n+1)))}else e.newimalatcontrol=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"newimalatcontrol"}},[e._v("İmalat Takibi varmı?")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{id:"addewtreeproceescancel",type:"button","data-dismiss":"modal"}},[e._v("İptal")]),e.addmi?[a("a",{staticClass:"btn btn-primary",on:{click:e.addtreeprocess}},[e._v("Kaydet")])]:[a("a",{staticClass:"btn btn-primary",on:{click:e.edittreenodesent}},[e._v("Güncelle")])]],2)])])]),a("div",{staticClass:"modal fade",attrs:{id:"sileminModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(8),a("div",{staticClass:"modal-body"},[e._v("İşlemi Ağaçtan Silmek istediğinize Emin misiniz?")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{id:"silemincancel",type:"button","data-dismiss":"modal"}},[e._v("İptal")]),a("a",{staticClass:"btn btn-primary",on:{click:e.deleteprocess}},[e._v("Sil")])])])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#yeninoktaModal",id:"yeninokta"}},[a("i",{staticClass:"fas fa-pencil-alt"}),e._v(" Yeni Ağac\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#sileminModal",id:"noktasillink"}},[a("i",{staticClass:"fas fa-bell"}),e._v(" Sil\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#isimdegisModal",id:"noktaisimdegis"}},[a("i",{staticClass:"fas fa-pencil-alt"}),e._v(" İsim Değiştir\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dropdown-item",attrs:{"data-toggle":"modal","data-target":"#sileminModal"}},[a("i",{staticClass:"fas fa-bell"}),e._v(" Sil\n      ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title-right"},[a("ol",{staticClass:"breadcrumb m-0"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"javascript: void(0);"}},[e._v("Anasayfa")])]),a("li",{staticClass:"breadcrumb-item active"},[e._v("Bom Ağacı")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"isimdegisModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Nokta Adı Değiştirme")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"recipient-name"}},[e._v("Nokta Adı:")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control",attrs:{type:"Text",id:"isimdegistext",name:"isimdegistext",value:"",required:""}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{id:"isimdegiskapat",type:"button","data-dismiss":"modal"}},[e._v("İptal")]),a("a",{staticClass:"btn btn-primary",attrs:{href:"#",id:"isimdegislink","data-noktaid":"",onclick:"isimdegisfunc(this.dataset.noktaid,'admin/isimdegis')"}},[e._v("Uygula")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Yeni Nokta Ekle")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("İşlemi Ağaçtan Silmek Üzeresiniz?")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],o=(a("c5f6"),a("7f7f"),a("3d20")),n=a.n(o),r=a("1146"),l=a.n(r),c=a("21a6"),d=a.n(c),m=a("1aa2"),u={data:function(){return{project:"",value:"Resim seç",selectedFile:"",tree:[],ifserinumber:!1,seritext:"",serimi:!1,altyapicheck:!1,selectedid:0,iftree:!1,Usttanim:"",projects:JSON.parse(localStorage.getItem("projects")),dataspinner:"",selectedStokCode:"",newtreestok:"",newtreestokname:"",selectedStokCodeTanim:"",selectedElement:"",newimalatcontrol:"",newipcontrol:"",newserinumbercontrol:"",ipmi:!1,ipaddress:"",selecteddeleteid:0,editandnewheader:"",addmi:!1,loadmi:!1}},methods:{previewFiles:function(e){this.value=this.$refs.myFiles.files[0].name,this.selectedFile=e.target.files[0]},gettree:function(){var e=this;this.dataspinner=document.getElementById("spinner"),this.dataspinner.removeAttribute("hidden");var t=this;this.$http.post("".concat(m["a"].ip,"/api/admin/treebomgetir"),{project:this.project}).then((function(a){console.log(a),t.tree=a.data,t.iftree=!0,t.dataspinner.setAttribute("hidden",""),e.loadmi=!0})).catch((function(e){console.log(e.response)}))},divclickevent:function(){if(this.ifserinumber=!1,this.selectedid>0){var e=document.getElementsByName(this.selectedid);e[0].style.backgroundColor=""}},deneme:function(e){this.selectedid=e.id;var t=this.tree,a=this.searchTree(t[0],this.selectedid);this.ifserinumber=!0,1===a.SerinoTakip?(1===a.IpTakip&&(this.ipmi=!0,null===a.Ipaddress?this.ipaddress="":this.ipaddress=a.Ipaddress),this.serimi=!0,null===a.SeriNo?this.seritext="":this.seritext=a.SeriNo):1===a.AltYapiTakip?(this.serimi=!1,"true"===a.SeriNo?this.altyapicheck=!0:this.altyapicheck=!1):(this.ifserinumber=!1,this.seritext=""),this.Usttanim="",this.searchenust(a.UstStok);for(var s=document.getElementsByName(this.selectedid),i=document.querySelectorAll("#survey"),o=0;o<i.length;o++)i[o].style.backgroundColor="#36404a";s[0].style.backgroundColor="orange";var n=document.getElementById("seriolan");n.style.marginTop=window.scrollY+"px",window.addEventListener("scroll",(function(){n.style.marginTop=window.scrollY+"px"}))},ValidateIPaddress:function(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(myForm.emailAddr.value)||(alert("You have entered an invalid IP address!"),!1)},contextmenu:function(e){if(e.preventDefault(),"SPAN"===e.target.tagName){this.selectedStokCode=e.target.dataset.stokcode,this.selectedStokCodeTanim=e.target.dataset.tanim,this.selecteddeleteid=e.target.dataset.id,this.selectedElement=e.target.parentElement.parentElement;var t=e.pageY,a=e.pageX;"branch link"===e.target.parentElement.className?$("#context-menu3").css({display:"block",top:t,left:a}).addClass("show"):$("#context-menu").css({display:"block",top:t,left:a}).addClass("show")}},ondrop:function(e){var t=this,a=document.getElementsByName(e.Id)[0];this.$http.post("".concat(m["a"].ip,"/api/admin/updateuststok"),{Id:e.Id,changeId:e.event.target.dataset.id}).then((function(s){var i=t.searchTree(t.tree[0],e.Id),o=t.searchstokTree(t.tree[0],a.dataset.uststok);o.nodes=o.nodes.filter((function(t){return t.Id!=e.Id})),o=t.searchTree(t.tree[0],e.event.target.dataset.id),i.UstStok=o.Stokcode,i.UstStokTanim=o.Tanim,o.nodes.push(i)}))},kaydet:function(e){var t=this,a=this;e.preventDefault();var s=new FormData;this.serimi?(s.append("serinumber",this.seritext),s.append("file",this.selectedFile),s.append("id",this.selectedid),this.ipmi&&s.append("ipaddress",this.ipaddress)):(s.append("serinumber",this.altyapicheck),s.append("file",this.selectedFile),s.append("id",this.selectedid)),""!==this.seritext&&""!==this.selectedFile||!1===this.serimi&&""!==this.selectedFile?this.ValidateIPaddress?this.$http.post("".concat(m["a"].ip,"/api/admin/serinokaydet"),s).then((function(e){if(e.data.succes){n.a.fire("",e.data.msg,"success");var s=document.getElementsByName(t.selectedid);s[0].style.color="green",document.getElementById("loginform").reset(),a.value="Resim seç";var i=a.tree,o=t.searchTree(i[0],t.selectedid);o.SeriNo=a.seritext,o.Ipaddress=a.ipaddress,t.searchstokTree(i[0],o.UstStok).progress.count++,t.ifserinumber=!1}else n.a.fire("",e.data.msg,"error")})).catch((function(e){console.log(e.response)})):n.a.fire("","Geçerli bir ip adresi giriniz.","error"):n.a.fire("","Tüm alanlar doldurulmalıdır.","error")},searchTree:function(e,t){if(e.Id==t)return e;if(null!=e.nodes){var a,s=null;for(a=0;null==s&&a<e.nodes.length;a++)s=this.searchTree(e.nodes[a],t);return s}return null},searchstokTree:function(e,t){if(e.Stokcode===t)return e;if(null!=e.nodes){var a,s=null;for(a=0;null==s&&a<e.nodes.length;a++)s=this.searchstokTree(e.nodes[a],t);return s}return null},searchenust:function(e){var t=this.searchstokTree(this.tree[0],e);null!=t&&(""===this.Usttanim?this.Usttanim=t.UstStokTanim:"-"!==t.UstStokTanim&&(this.Usttanim=this.Usttanim+" - "+t.UstStokTanim),this.searchenust(t.UstStok))},addtreenode:function(){var e=this,t=this;console.log(t.newtreestok),this.$http.post("".concat(m["a"].ip,"/api/admin/addnewtreenode"),{Stokcode:t.newtreestok,Tanim:t.newtreestokname,UstStok:t.selectedStokCode,UstStokTanim:t.selectedStokCodeTanim,ProjectCode:t.project}).then((function(a){if(a.data.success){document.getElementById("addewtreenodecancel").click();var s=t.tree,i=e.searchstokTree(s[0],t.selectedStokCode),o={Id:a.data.Id,Stokcode:t.newtreestok,Tanim:t.newtreestokname,UstStok:t.selectedStokCode,UstStokTanim:t.selectedStokCodeTanim,SerinoTakip:0,SeriNo:"",Ipaddress:"",IpTakip:e.newipcontrol,AltYapiTakip:e.newimalatcontrol,work:{count:0},progress:{count:0},nodes:[]};i.nodes.push(o),n.a.fire("",a.data.msg,"success"),t.newtreestok="",t.newtreestokname=""}else document.getElementById("addewtreenodecancel").click(),n.a.fire("",a.msg,"error")}))},addproceessbegin:function(){this.addmi=!0,this.editandnewheader="Yeni İşlem Ekle",this.newtreestok="",this.newtreestokname="",this.newipcontrol=!1,this.newimalatcontrol=!1,this.newserinumbercontrol=!1},addtreeprocess:function(){var e=this;this.$http.post("".concat(m["a"].ip,"/api/admin/addnewtreeprocess"),{Stokcode:this.newtreestok,Tanim:this.newtreestokname,UstStok:this.selectedStokCode,UstStokTanim:this.selectedStokCodeTanim,SerinoTakip:this.newserinumbercontrol,IpTakip:this.newipcontrol,AltYapiTakip:this.newimalatcontrol,ProjectCode:this.project}).then((function(t){if(t.data.success){document.getElementById("addewtreeproceescancel").click();var a=e.tree,s=e.searchstokTree(a[0],e.selectedStokCode),i={Id:t.data.Id,Stokcode:e.newtreestok,Tanim:e.newtreestokname,UstStok:e.selectedStokCode,UstStokTanim:e.selectedStokCodeTanim,SerinoTakip:Number(e.newserinumbercontrol),SeriNo:"",Ipaddress:"",color:"red",IpTakip:Number(e.newipcontrol),AltYapiTakip:Number(e.newimalatcontrol),work:{count:0},progress:{count:0}};s.nodes.push(i),n.a.fire("",t.data.msg,"success"),e.newtreestok="",e.newtreestokname=""}else document.getElementById("addewtreeproceescancel").click(),n.a.fire("",t.data.msg,"error")}))},deleteprocess:function(){var e=this;this.dataspinner.removeAttribute("hidden");var t=this.searchTree(this.tree[0],this.selecteddeleteid).UstStok;console.log(this.selectedStokCode),this.$http.post("".concat(m["a"].ip,"/api/admin/deleteprocess"),{Stokcode:this.selectedStokCode,Id:this.selecteddeleteid}).then((function(a){if(a.data.success){document.getElementById("silemincancel").click();var s=e.searchstokTree(e.tree[0],t);null!==s&&(s.nodes=s.nodes.filter((function(t){return t.Id!=e.selecteddeleteid}))),n.a.fire("",a.data.msg,"success")}else document.getElementById("silemincancel").click(),n.a.fire("",a.data.msg,"error");e.dataspinner.setAttribute("hidden","")}))},edittreenode:function(){this.addmi=!1,this.editandnewheader="Düzenle";var e=this.searchTree(this.tree[0],this.selecteddeleteid);this.newtreestok=e.Stokcode,this.newtreestokname=e.Tanim,this.newipcontrol=Boolean(e.IpTakip),this.newimalatcontrol=Boolean(e.AltYapiTakip),this.newserinumbercontrol=Boolean(e.SerinoTakip)},edittreenodesent:function(){var e=this;this.$http.post("".concat(m["a"].ip,"/api/admin/updatetreeprocess"),{Stokcode:this.newtreestok,Tanim:this.newtreestokname,SerinoTakip:this.newserinumbercontrol,IpTakip:this.newipcontrol,AltYapiTakip:this.newimalatcontrol,Id:this.selecteddeleteid}).then((function(t){if(document.getElementById("addewtreeproceescancel").click(),t.data.success){var a=e.searchTree(e.tree[0],e.selecteddeleteid);a.Stokcode=e.newtreestok,a.Tanim=e.newtreestokname,a.IpTakip=Number(e.newipcontrol),a.SerinoTakip=Number(e.newserinumbercontrol),a.AltYapiTakip=Number(e.newimalatcontrol),n.a.fire("",t.data.msg,"success")}else document.getElementById("addewtreeproceescancel").click(),n.a.fire("",t.data.msg,"error")}))},exportTable:function(){var e=this;this.dataspinner=document.getElementById("spinner"),this.dataspinner.removeAttribute("hidden");this.$http.post("".concat(m["a"].ip,"/api/admin/bomgetir"),{project:this.project}).then((function(t){console.log(t);var a=l.a.utils.json_to_sheet(t.data),s=l.a.utils.book_new();l.a.utils.book_append_sheet(s,a,e.project);var i=l.a.write(s,{bookType:"xlsx",type:"array"});d()(new Blob([i],{type:"application/octet-stream"}),e.project+".xlsx"),e.dataspinner.setAttribute("hidden","")})).catch((function(e){console.log(e)}))}}},p=u,h=a("2877"),v=Object(h["a"])(p,s,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-1ad3d1de.caf26adf.js.map